package com.zhoukewei.nlp.service;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Service;

import com.zhoukewei.nlp.eneity.Case;
import com.zhoukewei.nlp.util.JDBCTools;

@Service
public class SearchServiceImpl implements SerchService{
	private String keyWord; //关键词
	private List<Case> cases;//病例
	private JDBCTools jdbc;
	
	public SearchServiceImpl(){
		jdbc=new JDBCTools();
	}
	public List<Long> searchCaseId(String keyWord){
		List<Long> caseId=new ArrayList<Long>();//结果的id
		
		//需要大改*********************
		//查找
		String sql="select * from case_table join answer_table on case_table.answer_id=answer_table.answer_id";
		//访问数据库 是否存在
		List<List<String>> lists=jdbc.queryList(sql);//sql语句
	
		//排序
		
		
		//给case赋值
		if(lists.size()==0)//判断 是否存在账户 列为0 表明没有 账户
			return null;
		for(int i=0;i<lists.size();i++){
			List<String> list=lists.get(i);	
			
			while(cases.get(i).getCase_id()){
				case.setUserid(Integer.valueOf(list.get(0)).intValue());//赋值 userid
				user.setEmail(list.get(1));//赋值 email
				user.setUsername(list.get(2));//赋值 username
				user.setPassword(list.get(3));//赋值 password
				user.setFullname(list.get(4));//赋值 fullname
			}
		}
		return caseId;
	}
}
